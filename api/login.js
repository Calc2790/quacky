router.post('/login', validateLogin, loginUser);function validateLogin(req, res, next) {  const { username, password } = req.body;  const errors = [];  if (!username) errors.push('Username is required');  if (!password) errors.push('Password is required');  if (errors.length > 0) {    return res.status(400).json({ errors });  }  next();}function loginUser(req, res) {  const { username, password } = req.body;  User.findOne({ username }, (err, user) => {    if (err) return res.status(500).json({ message: 'Error finding user' });    if (!user) return res.status(401).json({ message: 'Invalid username or password' });    user.comparePassword(password, (err, isMatch) => {      if (err) return res.status(500).json({ message: 'Error comparing password' });      if (!isMatch) return res.status(401).json({ message: 'Invalid username or password' });      res.json({ token: 'your_token_here' });    });  });}
